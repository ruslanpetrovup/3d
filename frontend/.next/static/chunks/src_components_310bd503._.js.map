{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/fallen/Desktop/3d/frontend/src/components/UploadImageButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function UploadImageButton({\r\n  className,\r\n  title,\r\n}: {\r\n  className?: string;\r\n  title?: string;\r\n}) {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const response = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/preview/generate-preview`,\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n        }\r\n      );\r\n\r\n      if (!response.ok) throw new Error(\"Upload failed\");\r\n\r\n      const data = await response.json();\r\n\r\n      router.push(`/preview?id=${data.data.id}`);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при загрузке изображения:\", error);\r\n      alert(\"Не удалось загрузить изображение. Попробуйте снова.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading && (\r\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 text-white px-4\">\r\n          <div className=\"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mb-6\" />\r\n          <div className=\"text-center max-w-md\">\r\n            <h2 className=\"text-xl font-semibold mb-2\">Please wait...</h2>\r\n            <p className=\"text-sm text-gray-300\">\r\n              We are generating an image based on your photo. It usually takes 10\r\n              to 30 seconds. Please do not close the page.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <label\r\n        className={\r\n          className\r\n            ? className\r\n            : \"cursor-pointer bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition relative\"\r\n        }\r\n      >\r\n        {loading ? \"Loading...\" : title ? title : \"Upload Image\"}\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          className=\"hidden\"\r\n          onChange={handleImageUpload}\r\n          disabled={loading}\r\n        />\r\n      </label>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;AA0BW;;AAxBX;AACA;;;AAHA;;;AAKe,SAAS,kBAAkB,EACxC,SAAS,EACT,KAAK,EAIN;;IACC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,oBAAoB,OAAO;QAC/B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QAEzB,IAAI;YACF,WAAW;YAEX,MAAM,WAAW,MAAM,MACrB,GAAG,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,EAC7D;gBACE,QAAQ;gBACR,MAAM;YACR;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAElC,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,OAAO,IAAI,CAAC,CAAC,YAAY,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE;QAC3C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;YAClD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;YACG,yBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAQ3C,6LAAC;gBACC,WACE,YACI,YACA;;oBAGL,UAAU,eAAe,QAAQ,QAAQ;kCAC1C,6LAAC;wBACC,MAAK;wBACL,QAAO;wBACP,WAAU;wBACV,UAAU;wBACV,UAAU;;;;;;;;;;;;;;AAKpB;GA1EwB;;QAOP,qIAAA,CAAA,YAAS;;;KAPF","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/fallen/Desktop/3d/frontend/src/components/LatestModels.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Image from 'next/image';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Autoplay, Pagination } from 'swiper/modules';\r\nimport 'swiper/css';\r\nimport 'swiper/css/pagination';\r\n\r\nconst fallbackPhotos = [\r\n  {\r\n    id: 'example1',\r\n    title: 'Example Model 1',\r\n    imageUrl: '/models/example1.png',\r\n  },\r\n  {\r\n    id: 'example2',\r\n    title: 'Example Model 2',\r\n    imageUrl: '/models/example2.png',\r\n  },\r\n  {\r\n    id: 'example3',\r\n    title: 'Example Model 3',\r\n    imageUrl: '/models/example3.png',\r\n  },\r\n];\r\n\r\ninterface Photo {\r\n  id: number | string;\r\n  title: string;\r\n  imageUrl: string;\r\n  createdAt?: Date;\r\n}\r\n\r\nexport default function LatestModels() {\r\n  const [photos, setPhotos] = useState<Photo[]>(fallbackPhotos);\r\n  // const [loading, setLoading] = useState(true);\r\n  // const [error, setError] = useState<string | null>(null);\r\n\r\n  // useEffect(() => {\r\n  //   const fetchPhotos = async () => {\r\n  //     try {\r\n  //       const response = await fetch('/api/preview/latest');\r\n  //       if (!response.ok) {\r\n  //         throw new Error('Failed to fetch photos');\r\n  //       }\r\n  //       const data = await response.json();\r\n  //       if (data.length === 0) {\r\n  //         setPhotos(fallbackPhotos);\r\n  //       } else {\r\n  //         setPhotos(data);\r\n  //       }\r\n  //     } catch (err) {\r\n  //       setPhotos(fallbackPhotos);\r\n  //       setError(err instanceof Error ? err.message : 'An error occurred');\r\n  //     } finally {\r\n  //       setLoading(false);\r\n  //     }\r\n  //   };\r\n  //   fetchPhotos();\r\n  // }, []);\r\n\r\n  // if (loading) return <div>Loading...</div>;\r\n  // if (error && photos.length === 0) return <div>Error: {error}</div>;\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"w-full max-w-6xl mt-10 mx-auto py-8\">\r\n      <h2 className=\"text-3xl font-bold text-white mb-8 text-center font-display\">Latest Models</h2>\r\n      <Swiper\r\n        modules={[Autoplay, Pagination]}\r\n        spaceBetween={24}\r\n        slidesPerView={1}\r\n        pagination={{ clickable: true }}\r\n        autoplay={{ delay: 3500, disableOnInteraction: false }}\r\n        breakpoints={{\r\n          640: { slidesPerView: 1 },\r\n          768: { slidesPerView: 2 },\r\n          1024: { slidesPerView: 3 },\r\n        }}\r\n        style={{ paddingBottom: 40 }}\r\n      >\r\n        {photos.map((photo) => (\r\n          <SwiperSlide key={photo.id}>\r\n            <div className=\"bg-[#1B263B] rounded-2xl border border-white/10 shadow-lg hover:shadow-orange-500/30 overflow-hidden flex flex-col h-full transition-shadow\">\r\n              <div className=\"relative w-full h-90\">\r\n                <Image\r\n                  src={photo.imageUrl}\r\n                  alt={photo.title}\r\n                  fill\r\n                  className=\"object-cover\"\r\n                  style={{ objectPosition: 'center' }}\r\n                  sizes=\"(max-width: 768px) 100vw, 33vw\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </SwiperSlide>\r\n        ))}\r\n      </Swiper>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;;AALA;;;;;;;AASA,MAAM,iBAAiB;IACrB;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;CACD;AASc,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAC9C,gDAAgD;IAChD,2DAA2D;IAE3D,oBAAoB;IACpB,sCAAsC;IACtC,YAAY;IACZ,6DAA6D;IAC7D,4BAA4B;IAC5B,qDAAqD;IACrD,UAAU;IACV,4CAA4C;IAC5C,iCAAiC;IACjC,qCAAqC;IACrC,iBAAiB;IACjB,2BAA2B;IAC3B,UAAU;IACV,sBAAsB;IACtB,mCAAmC;IACnC,4EAA4E;IAC5E,kBAAkB;IAClB,2BAA2B;IAC3B,QAAQ;IACR,OAAO;IACP,mBAAmB;IACnB,UAAU;IAEV,6CAA6C;IAC7C,sEAAsE;IAItE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA8D;;;;;;0BAC5E,6LAAC,6IAAA,CAAA,SAAM;gBACL,SAAS;oBAAC,wLAAA,CAAA,WAAQ;oBAAE,4LAAA,CAAA,aAAU;iBAAC;gBAC/B,cAAc;gBACd,eAAe;gBACf,YAAY;oBAAE,WAAW;gBAAK;gBAC9B,UAAU;oBAAE,OAAO;oBAAM,sBAAsB;gBAAM;gBACrD,aAAa;oBACX,KAAK;wBAAE,eAAe;oBAAE;oBACxB,KAAK;wBAAE,eAAe;oBAAE;oBACxB,MAAM;wBAAE,eAAe;oBAAE;gBAC3B;gBACA,OAAO;oBAAE,eAAe;gBAAG;0BAE1B,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC,6IAAA,CAAA,cAAW;kCACV,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;oCACJ,KAAK,MAAM,QAAQ;oCACnB,KAAK,MAAM,KAAK;oCAChB,IAAI;oCACJ,WAAU;oCACV,OAAO;wCAAE,gBAAgB;oCAAS;oCAClC,OAAM;;;;;;;;;;;;;;;;uBATI,MAAM,EAAE;;;;;;;;;;;;;;;;AAkBpC;GApEwB;KAAA","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/fallen/Desktop/3d/frontend/src/components/HomePage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport UploadImageButton from \"@/components/UploadImageButton\";\r\nimport ModelCarousel from \"@/components/ModelCarousel\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport LatestModels from '../components/LatestModels';\r\n\r\nexport default function HomePage() {\r\n  return (\r\n    <main className=\"relative min-h-screen bg-gradient-to-b from-[#0D1B2A] to-[#1B263B] text-white px-4 py-10 font-sans\">\r\n      {/* Background Glow */}\r\n      <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 z-0 bg-gradient-radial from-orange-500/20 to-transparent rounded-full blur-[120px] pointer-events-none\" />\r\n\r\n      {/* Hero Section */}\r\n      <section className=\"relative z-10 max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-16\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 1 }}\r\n          className=\"flex-1 text-center md:text-left\"\r\n        >\r\n          <h1 className=\"text-7xl md:text-9xl font-bold leading-tight bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 bg-clip-text text-transparent drop-shadow-md mb-[-20px] font-display\">\r\n          Create \r\n          </h1>\r\n          <h1 className=\"text-4xl md:text-[61px] font-bold leading-tight bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 bg-clip-text text-transparent drop-shadow-md mb-[-5px] font-display\">\r\n           a starter pack \r\n          </h1>\r\n          <h1 className=\"text-2xl md:text-[43px] font-medium mb-6 leading-tight bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 bg-clip-text text-transparent drop-shadow-md font-display\">\r\n           based on your photo \r\n          </h1>\r\n          <p className=\"text-lg md:text-[17px] mb-8 text-gray-300\">\r\n            Upload a photo — get your 3D model in a few\r\n            clicks.\r\n          </p>\r\n          <motion.button\r\n            onClick={() => {\r\n              const target = document.getElementById(\"preview\");\r\n              if (target) {\r\n                target.scrollIntoView({ behavior: \"smooth\" });\r\n              }\r\n            }}\r\n            whileHover={{ scale: 1.08 }}\r\n            className=\"relative bg-[#F97316] hover:bg-orange-600 text-white font-bold py-4 px-8 rounded-2xl transition shadow-lg\"\r\n          >\r\n            <span className=\"absolute top-0 left-0 w-full h-full rounded-2xl animate-pulse bg-orange-500 opacity-10 z-0\" />\r\n            <span className=\"relative z-10 uppercase\">Try it now</span>\r\n          </motion.button>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 1, delay: 0.2 }}\r\n          className=\"flex-1\"\r\n        >\r\n          <div className=\"relative w-fit mx-auto\">\r\n            <Image\r\n              src=\"/model.png\"\r\n              alt=\"3D hero\"\r\n              width={450}\r\n              height={450}\r\n              className=\"rounded-2xl\"\r\n            />\r\n          </div>\r\n        </motion.div>\r\n      </section>\r\n\r\n      {/* How it Works */}\r\n      <section className=\"max-w-6xl mx-auto mt-32 relative z-10\" id=\"preview\">\r\n        <h2 className=\"text-3xl font-bold mb-10 text-center text-white\">\r\n          How it works\r\n        </h2>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-14 text-center\">\r\n          {[1, 2, 3].map((step, i) => (\r\n            <motion.div\r\n              key={step}\r\n              initial={{ opacity: 0, y: 40 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: i * 0.2 }}\r\n              viewport={{ once: true }}\r\n              className=\"flex flex-col items-center bg-[#1B263B] p-6 rounded-2xl border border-white/10 hover:border-orange-500 shadow-xl hover:shadow-orange-500/30 transition duration-300\"\r\n            >\r\n              <div className=\"text-white text-3xl w-14 h-14 rounded-full bg-[#415A77] flex items-center justify-center font-bold mb-4 shadow-md\">\r\n                {step}\r\n              </div>\r\n              {step === 1 && (\r\n                <>\r\n                  <p className=\"mb-4 text-gray-200\">Upload your photo</p>\r\n                  <UploadImageButton />\r\n                </>\r\n              )}\r\n              {step === 2 && (\r\n                <>\r\n                  <p className=\"mb-4 text-gray-200\">We create the scene</p>\r\n                  <Image\r\n                    src=\"/man.svg\"\r\n                    alt=\"man\"\r\n                    width={50}\r\n                    height={50}\r\n                  />\r\n                </>\r\n              )}\r\n              {step === 3 && (\r\n                <>\r\n                <p className=\"mb-4 text-gray-200\">\r\n                Try the model — love it, buy it!\r\n                </p>\r\n                <Image\r\n                    src=\"/stars.svg\"\r\n                    alt=\"stars\"\r\n                    width={50}\r\n                    height={50}\r\n                  />\r\n                </>\r\n              )}\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <LatestModels />\r\n    </main>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAQe,SAAS;IACtB,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC9B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;wBAAE;wBAC1B,WAAU;;0CAEV,6LAAC;gCAAG,WAAU;0CAAgL;;;;;;0CAG9L,6LAAC;gCAAG,WAAU;0CAAkL;;;;;;0CAGhM,6LAAC;gCAAG,WAAU;0CAA+K;;;;;;0CAG7L,6LAAC;gCAAE,WAAU;0CAA4C;;;;;;0CAIzD,6LAAC,6LAAA,CAAA,SAAM,CAAC,MAAM;gCACZ,SAAS;oCACP,MAAM,SAAS,SAAS,cAAc,CAAC;oCACvC,IAAI,QAAQ;wCACV,OAAO,cAAc,CAAC;4CAAE,UAAU;wCAAS;oCAC7C;gCACF;gCACA,YAAY;oCAAE,OAAO;gCAAK;gCAC1B,WAAU;;kDAEV,6LAAC;wCAAK,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAA0B;;;;;;;;;;;;;;;;;;kCAI9C,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAClC,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,YAAY;4BAAE,UAAU;4BAAG,OAAO;wBAAI;wBACtC,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAOlB,6LAAC;gBAAQ,WAAU;gBAAwC,IAAG;;kCAC5D,6LAAC;wBAAG,WAAU;kCAAkD;;;;;;kCAGhE,6LAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,MAAM,kBACpB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gCAET,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,aAAa;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAChC,YAAY;oCAAE,UAAU;oCAAK,OAAO,IAAI;gCAAI;gCAC5C,UAAU;oCAAE,MAAM;gCAAK;gCACvB,WAAU;;kDAEV,6LAAC;wCAAI,WAAU;kDACZ;;;;;;oCAEF,SAAS,mBACR;;0DACE,6LAAC;gDAAE,WAAU;0DAAqB;;;;;;0DAClC,6LAAC,0IAAA,CAAA,UAAiB;;;;;;;oCAGrB,SAAS,mBACR;;0DACE,6LAAC;gDAAE,WAAU;0DAAqB;;;;;;0DAClC,6LAAC,gIAAA,CAAA,UAAK;gDACJ,KAAI;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;;;;;;;;oCAIb,SAAS,mBACR;;0DACA,6LAAC;gDAAE,WAAU;0DAAqB;;;;;;0DAGlC,6LAAC,gIAAA,CAAA,UAAK;gDACF,KAAI;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;;;;;;;;;+BApCT;;;;;;;;;;;;;;;;0BA6Cb,6LAAC,qIAAA,CAAA,UAAY;;;;;;;;;;;AAGnB;KApHwB","debugId":null}}]
}